{% extends "base.html" %}
{% block profile %}
    <div class="row" style="background: url('static/login.jpg');">
        <div class="container">
            <form method="POST">
                <div class="row">
                    <div class="col-md-8 col-lg-9" style="margin:100px 0px">
                        <h1 class="text-center" style="margin:80px 0px 20px;color: #000000;font-size: 65px;font-family:'Montserrat', sans-serif;background-color:rgba(256,256,256,0.65);font-weight:400">Preferences</h1>
                        <div class="form-row">
                            <div class="col-lg-3">
                                <div class="form-group" style="background-color:rgba(0,0,0,0.75);height:270px;">
                                    <h3 class="text-center" style="color:#f0a500;padding:10px 0px 0px">Genres</h3>
                                    <div class="col">
                                            {% for genre in genres %}
                                                <div class="form-check" style="color:#fff;">
                                                    <input id={{genre}} class="form-check-input" type="checkbox" name="genre" value={{genre}} />
                                                    <label class="form-check-label" for={{genre}}>{{genre}}</label>
                                                </div>
                                            {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="col" style="margin:0px; padding:0px;">
                                <div class="'form-group" style="background-color:rgba(0,0,0,0.75);height:270px;">
                                    <h3 class="text-center" style="color:#f0a500;padding:10px 0px 0px">Sub-Genres</h3>
                                    <div class="form-row" style="font-size:13px;padding:0px 8px">
                                        <div class="col">
                                            {% for subgenre in subgenres[:8] %}
                                                <div class="form-check" style="color:#fff;">
                                                    <input id='{{subgenre}}' class="form-check-input" type="checkbox" name="subgenre" value='{{subgenre}}' />
                                                    <label class="form-check-label" for='{{subgenre}}'>{{subgenre}}</label>
                                                </div>
                                            {% endfor %}
                                        </div>
                                        <div class="col">
                                            {% for subgenre in subgenres[8:17] %}
                                                <div class="form-check" style="color:#fff;">
                                                    <input id='{{subgenre}}' class="form-check-input" type="checkbox" name="subgenre" value='{{subgenre}}' />
                                                    <label class="form-check-label" for='{{subgenre}}'>{{subgenre}}</label>
                                                </div>
                                            {% endfor %}
                                        </div>
                                        <div class="col">
                                            {% for subgenre in subgenres[17:26] %}
                                                <div class="form-check" style="color:#fff;">
                                                    <input id='{{subgenre}}' class="form-check-input" type="checkbox" name="subgenre" value='{{subgenre}}' />
                                                    <label class="form-check-label" for='{{subgenre}}'>{{subgenre}}</label>
                                                </div>
                                            {% endfor %}
                                        </div>
                                        <div class="col">
                                            {% for subgenre in subgenres[26:] %}
                                                <div class="form-check" style="color:#fff;">
                                                    <input id='{{subgenre}}' class="form-check-input" type="checkbox" name="subgenre" value='{{subgenre}}' />
                                                    <label class="form-check-label" for='{{subgenre}}'>{{subgenre}}</label>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" style="margin:10px 0px;background-color:rgba(0,0,0,0.75);padding:0px 30px 5px;">
                            <h3 class="text-center" style="color:#f0a500;padding:10px 0px 0px">Themes</h3>
                            <div class="form-row" style="font-size:13px;padding:0px 8px 15px">
                                <div class="col">
                                    {% for theme in themes[:18] %}
                                        <div class="form-check" style="color:#fff;">
                                            <input id='{{theme}}' class="form-check-input" type="checkbox" name="theme" value='{{theme}}' />
                                            <label class="form-check-label" for='{{theme}}'>{{theme}}</label>
                                        </div>
                                    {% endfor %}
                                </div>
                                <div class="col">
                                    {% for theme in themes[18:36] %}
                                        <div class="form-check" style="color:#fff;">
                                            <input id='{{theme}}' class="form-check-input" type="checkbox" name="theme" value='{{theme}}' />
                                            <label class="form-check-label" for='{{theme}}'>{{theme}}</label>
                                        </div>
                                    {% endfor %}
                                </div>
                                <div class="col">
                                    {% for theme in themes[36:53] %}
                                        <div class="form-check" style="color:#fff;">
                                            <input id='{{theme}}' class="form-check-input" type="checkbox" name="theme" value='{{theme}}' />
                                            <label class="form-check-label" for='{{theme}}'>{{theme}}</label>
                                        </div>
                                    {% endfor %}
                                </div>
                                <div class="col">
                                    {% for theme in themes[53:70] %}
                                        <div class="form-check" style="color:#fff;">
                                            <input id='{{theme}}' class="form-check-input" type="checkbox" name="theme" value='{{theme}}' />
                                            <label class="form-check-label" for='{{theme}}'>{{theme}}</label>
                                        </div>
                                    {% endfor %}
                                </div>
                                <div class="col">
                                    {% for theme in themes[70:] %}
                                        <div class="form-check" style="color:#fff;">
                                            <input id='{{theme}}' class="form-check-input" type="checkbox" name="theme" value='{{theme}}' />
                                            <label class="form-check-label" for='{{theme}}'>{{theme}}</label>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-lg-3" style="margin:100px 0px">
                        <div class="row">
                            <div class="col" style="background-color: #000;">
                                <ion-icon name="book-outline" style="color:#dbdbdb;font-size: 100px;padding:20px 70px"></ion-icon>
                                <h2 style="padding:10px 0 px 12px;color:#f0a500;">{{username}}</h2>
                                <h5 style="padding:8px 0 px 0px;color:#fff;">{{email}}</h5>
                                <div style="height:10px;"></div>
                                <p style="color: #cf7500;padding:0px 0 px 30px; font-size:14px">
                                    Last seen:
                                    {{log_time}}
                                </p>
                                {% if user_genres %}
                                    <p style="color: #dbdbdb;margin:0px 0 px 20px">
                                        <span style="color: #fff;font-weight: bold;">Genres:</span>
                                        {{user_genres}}
                                    </p>
                                {% endif %}
                                {% if user_subgenres %}
                                    <p style="color: #dbdbdb;margin:0px 0 px 20px">
                                        <span style="color: #fff;font-weight: bold;">Sub-Genres:</span>
                                        {{user_subgenres}}
                                    </p>
                                {% endif %}
                                {% if user_themes %}
                                    <p style="color: #dbdbdb;margin:0px 0 px 20px">
                                        <span style="color: #fff;font-weight: bold;">Themes:</span>
                                        {{user_themes}}
                                    </p>
                                {% endif %}
                            </div>
                        </div>
                        <div class="row" style="background-color:rgba(256,256,256,0.65)">
                            <div class="col" style="color#fff;padding:30px 46px;">
                                <button class="btn btn-primary btn-block" type="submit" name='Preferences' style="background-color:#cf7500; color:#fff;width:189.1px">Set Preferences</button>
                            </div>
                            <div class="col" style="color#fff;padding:15px 46px 30px;">
                                {% if id %}
                                    <button class="btn btn-light action-button" type="submit" name="exitgr" style="background-color:#cf7500;width:189.2px; color:#fff">Exit from GoodReads</button>
                                {% else %}
                                    <button class="btn btn-light action-button" role="button" name="entergr" style="background-color:#cf7500;width:189.2px; color:#fff">Connect to GoodReads</button>
                                {% endif %}
                            </div>
                            <div class="col text-center" style="color:#fff; padding:30px 22px;background-color:black;margin:0px 0px 20px">
                                <input type="text" name="New Username" style="width: 190px;margin:0px 0px 10px;background-color:transparent;padding:0px 5px 0px;color:#fff" placeholder="New Username"/>
                                <button class="btn btn-primary btn-block" name="Username" type="submit" style="background-color: #cf7500;">Change Username</button>
                            </div>
                            <div class="col text-center" style="color:#fff; padding:20px 22px;background-color:black;">
                                <p6 class="text-center" style="color:#fff; padding:0px 0px 10px"> {{message}} </p6>
                                <div style="padding-top: 10px;">
                                    <input type="password" style="background-color:transparent;padding:0px 5px 0px;margin:0px 0px 10px;color:#fff" name="Old Password" placeholder="Old Password"/>
                                    <input type="password" style="background-color:transparent;padding:0px 5px 0px;margin:0px 0px 10px;color:#fff" name="New Password" placeholder="New Password"/>
                                </div>
                                <button class="btn btn-primary btn-block" name="Password" type="submit" style="background-color: #cf7500;">Change Password</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}